name: Random Reviewer Discord
description: Automatically assign reviewers at random and notify them on Discord
author: JedBeom

branding:
  icon: user-check
  color: green

inputs:
  candidates:
    description: Pairs of usernames(GitHub, Discord) of candidates.
    required: true
  webhook_url:
    description: Discord Webhook URL
    required: true
  remind_prs_min_age:
    description: (hours) PRs which are not old by the specified amount of time are ignored when review reminding.
    required: false
    default: 24
  template_opened:
    description: Message template used when a PR is opened.
    required: false
    default: >-
      ğŸ‰ {mention} was selected as a reviewer for [{prTitle} #{prNumber}]({prURL})
  template_reopened_assigned:
    description: >-
      Message template used when a PR is reopened
      and a new reviewer is assigned.
    required: false
    default: >-
      ğŸ‰ {mention} was selected as a reviewer for 
      [{prTitle} #{prNumber} (reopened)]({prURL})
  template_reopened_exist_one:
    description: >-
      Message template used when a PR is reopened
      and a reviewer already exists.
    required: false
    default: >-
      â„¹ï¸ {mention}, [{prTitle} #{prNumber}]({prURL}) 
      was reopened and waiting your review.
  template_reopened_exist_plural:
    description: >-
      Message template used when a PR is reopened
      and reviewers already exist.
    required: false
    default: >-
      â„¹ï¸ {mention}, [{prTitle} #{prNumber}]({prURL}) 
      was reopened and waiting your review.
  template_ready_for_review_assigned:
    description: >-
      Message template used when a PR is ready for review
      and a new reviewer is assigned.
    required: false
    default: >-
      ğŸ‰ {mention} was selected as a reviewer for
      [{prTitle} #{prNumber} (ready for review)]({prURL})
  template_ready_for_review_exist_one:
    description: >-
      Message template used when a PR is ready for review
      and a reviewer already exists.
    required: false
    default: >-
      â„¹ï¸ {mention}, [{prTitle} #{prNumber}]({prURL}) 
      is now ready for review and waiting your review.
  template_ready_for_review_exist_plural:
    description: >-
      Message template used when a PR is ready for review
      and reviewers already exist.
    required: false
    default: >-
      â„¹ï¸ {mention}, [{prTitle} #{prNumber}]({prURL}) 
      is now ready for review and waiting your review.
  template_review_requested_one:
    description: >-
      Message template used when a reviewer was requested.
    required: false
    default: >-
      ğŸ”„ {mention} was requested a review for
      [{prTitle} #{prNumber}]({prURL}).
  template_review_requested_plural:
    description: >-
      Message template used when reviewers were requested.
    required: false
    default: >-
      ğŸ”„ {mention}, you were requested a review for
      [{prTitle} #{prNumber}]({prURL}).
  template_converted_to_draft:
    description: >-
      Message added to the existing message
      when a PR is converted to a draft.
    required: false
    default: This PR was converted to draft.
  template_review_request_removed:
    description: >-
      Message added to the existing message
      when a review request is removed.
    required: false
    default: This review request was removed.
  template_schedule:
    description: The opening of a review reminder message
    required: false
    default: >-
      ğŸ”” Good afternoon! These PRs are waiting for your reviews!

runs:
  using: node20
  main: dist/index.js
